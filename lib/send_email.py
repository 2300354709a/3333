import smtplib #连接smtp服务器并发送邮件from email.mime.text import MIMETextfrom email.mime.multipart import MIMEMultipartfrom conf import configdef send_report():#1.组装邮件正文msg=MIMEMultipart()#混合格式消息体body =  MIMEText("python发送的邮件","plain",'utf-8') #plain纯文字htmlmsg.attach(body)#将正文添加到msg对象中#2组装邮件头msg['From']=config.smtp_usermsg["To"]='2903578134@qq.com'msg["Subject"]='from python'#3连接smtp服务器并发送smtp = smtplib.SMTP("config.smtp_server") # 建立连接smtp.login("ivan-me@163.com", "hanzhichao123") # 登录邮箱smtp.sendmail("ivan-me@163.com",              'superhin@126.com',              msg.as_string())  # 讲MIME格式邮件转成字符串发送# 4附件with open("../report/report.html", "rb")as f:    att_file = f.read()att = MIMEText(att_file, "base64","utf-8")  # 二进制用bse64编码att["Content-type"] = 'application/octet-stream'  # 声明附件的内容格式MIME数据流格式att["Content-Disposition"] = "attchment;filename='report.html'"  # 附件描述信息filename是附件显示文件名